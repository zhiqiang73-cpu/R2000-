# 历史数据回测模块规划文档

> 本文档整理自策略讨论记录，作为"历史数据回测"功能的开发纲要与实现指引。  
> 文档版本：v3.1 / 更新日期：2026-02

---

## 一、背景与目标

### 背景

当前系统缺乏对传统技术指标组合的系统性验证。为了在上模拟盘之前找到真正有统计意义的入场依据，需要建立一套基于历史数据的指标组合命中率分析体系。

### 核心思路（v3.0 更新）

> **不再依赖上帝视角的高低点来定义"命中"，而是直接用止盈止损规则来判断每一笔模拟交易是否盈利。**

每一根 K 线收盘后，如果技术指标满足某个组合条件，就模拟在下一根 K 线开盘入场：
- 向后扫描 K 线，**止盈1先触发 = 命中**
- **止损先触发 = 未命中**

命中率越高，说明这个指标组合在历史上越能准确预判价格走势。

### 目标

1. 从历史 5000 根 K 线中，对每根 K 线的技术指标做快照
2. 枚举 2-5 个指标条件组成的组合
3. 对每个触发该组合的 K 线，运行止盈止损模拟，统计命中率
4. 找出**命中率显著高于随机基准（做多含费 61%，做空含费 47%）**的有效组合
5. 多轮换数据验证，筛选出稳定可靠的组合
6. 将验证通过的组合用于模拟盘测试

---

## 二、第一阶段固定策略参数

> 不启用自适应、不启用凯利仓位，所有参数固定。  
> v3.1 更新：做多与做空采用**非对称止盈止损**，各方向含费后期望价值更优。

| 维度 | 参数 | 做多 | 做空 | 说明 |
|:---|:---|:---:|:---:|:---|
| 杠杆 | 杠杆倍数 | **20 倍** | **20 倍** | 固定，不自适应调整 |
| 仓位 | 单次仓位比例 | **5%** | **5%** | 每次用账户可用资金的 5% 作为保证金 |
| 止盈第 1 档（价格移动） | 触发距离 | **+0.6%** | **-0.8%** | 做空止盈更宽，顺势空间更大 |
| 止损（价格移动） | 触发距离 | **-0.8%** | **+0.6%** | 做空止损更窄，严格控回撤 |
| 止盈第 1 档（杠杆后） | 杠杆后收益率 | **+12%** | **+16%** | 平掉 70% 仓位 |
| 止损（杠杆后） | 杠杆后收益率 | **-16%** | **-12%** | 全平 |
| 止盈第 1 档后 | 止损上移 | **移至入场价** | **移至入场价** | 剩余 30% 仓位零风险持有 |
| 止盈第 2 档 | 杠杆后收益率 | **+24%** | **+32%** | 价格顺向约 1.2%/1.6% 触发，全平剩余 30% |
| 日限风控 | 每日最大亏损 | **5%** | **5%** | 当日账户亏损达到 5% 停止开新仓 |

### 含费后各方向净收益

| 方向 | 止盈净收益 | 止损净亏损 | 含费随机基准 |
|:---|:---:|:---:|:---:|
| 做多 | **+0.54%** | **-0.86%** | **61%** |
| 做空 | **+0.74%** | **-0.66%** | **47%** |

### 账户收益速查（仓位 5%，20 倍杠杆）

#### 做多方向

| 结果 | 账户变动 |
|:---|:---:|
| 止损出场（价格跌 0.8%） | **-0.8%** |
| 止盈 1 后被保本止损 | **+0.42%** |
| 止盈 1 + 止盈 2 全部吃到 | **+0.78%** |

#### 做空方向

| 结果 | 账户变动 |
|:---|:---:|
| 止损出场（价格涨 0.6%） | **-0.6%** |
| 止盈 1 后被保本止损 | **+0.56%** |
| 止盈 1 + 止盈 2 全部吃到 | **+1.04%** |

### 为什么选 70% / 30% 平仓比例

| 情境 | 70/30 方案 | 50/50 方案 |
|:---|:---:|:---:|
| TP1 + TP2 全部命中 | +15.6% | +18% |
| TP1 命中，余量被保本止损 | **+3.6% ✅ 仍赚** | **-2% ❌ 反亏** |
| 直接止损 | -16% | -16% |

**结论：70/30 确保"只要 TP1 触发就已盈利"，避免"中了但亏钱"的悖论。**

---

## 三、命中率的定义与随机基准

### 核心定义

```
命中率 = 在触发该指标组合的 K 线中，模拟入场后止盈1先触发（而非止损先触发）的比例

做多方向：
  命中   = 向后扫描 K 线，价格先涨到 入场价 × (1 + 0.006) → 止盈1触发
  未命中 = 向后扫描 K 线，价格先跌到 入场价 × (1 - 0.008) → 止损触发

做空方向：
  命中   = 向后扫描 K 线，价格先跌到 入场价 × (1 - 0.008) → 止盈1触发
  未命中 = 向后扫描 K 线，价格先涨到 入场价 × (1 + 0.006) → 止损触发

超时   = 240 根 K 线内两者都未触发 → 按止损处理（算未命中）
```

### 手续费假设（Binance 合约标准）

| 操作 | 费率 | 说明 |
|:---|:---:|:---|
| 市价开仓（taker） | 0.04% | 吃单，按名义仓位计算 |
| 限价止盈（maker） | 0.02% | 挂单，稳定成交 |
| 限价止损（maker/taker） | 0.04% | 极端行情可能转市价 |
| 单次往返合计 | ~0.06% | 占名义仓位；仓位 5%×20倍=100%名义，折合账户 0.06% |

含手续费后的净收益（非对称参数，v3.1）：

| 方向 | 止盈距离 | 止损距离 | 止盈净收益 | 止损净亏损 |
|:---|:---:|:---:|:---:|:---:|
| 做多 | +0.6% | -0.8% | **+0.54%** | **-0.86%** |
| 做空 | -0.8% | +0.6% | **+0.74%** | **-0.66%** |

> 手续费 0.06% 从止盈净收益中扣除、叠加到止损净亏损中。

### 随机基准：做多 61%，做空 47%（含手续费，v3.1 更新）

> v3.1 起，做多与做空采用**非对称止盈止损**，两方向的含费随机基准不同。

#### 做多随机基准：61%

不含手续费的纯几何基准：

```
随机基准（不含费）= 止损距离 ÷ (止盈距离 + 止损距离) = 0.8 ÷ (0.6 + 0.8) ≈ 57.1%
```

含手续费后（止盈净 +0.54%，止损净 -0.86%），等效"拉平点"：

```
做多含费基准 = 0.86 ÷ (0.54 + 0.86) ≈ 61.4%  →  取整为 61%
```

#### 做空随机基准：47%

做空参数：止盈 -0.8%（净 +0.74%），止损 +0.6%（净 -0.66%）

不含手续费的纯几何基准：

```
随机基准（不含费）= 止损距离 ÷ (止盈距离 + 止损距离) = 0.6 ÷ (0.8 + 0.6) ≈ 42.9%
```

含手续费后（止盈净 +0.74%，止损净 -0.66%），等效"拉平点"：

```
做空含费基准 = 0.66 ÷ (0.74 + 0.66) ≈ 47.1%  →  取整为 47%
```

> **为什么做空基准更低（47% vs 61%）？**  
> 做空止盈距离（0.8%）>止损距离（0.6%），含费后止盈净收益（0.74%）也远大于止损净亏损（0.66%），  
> 使得盈亏比从做多的 0.54:0.86 改善为做空的 0.74:0.66，只需 47% 命中率即可保本。  
>  
> 因此做空筛选门槛也相应降低（52/55/59%），而非套用做多的门槛（64/67/71%）。  
> 备注：多轮换数据覆盖不同市场阶段，可消除趋势偏差对实际基准的影响。

---

## 四、历史数据回测核心逻辑

### 4.1 整体流程

```
第 1 步：随机取 5000 根 K 线历史数据
    ↓
第 2 步：计算所有技术指标（RSI、KDJ、MACD、布林带等）
    ↓
第 3 步：枚举 2-5 个指标条件的组合（约数千至数万种）
    ↓
第 4 步：对每个组合，扫描 5000 根 K 线
    - 找出所有满足该组合的 K 线（触发点）
    - 对每个触发点，模拟从下一根 K 线开盘入场
    - 向后扫描，判断止盈1还是止损先触发
    ↓
第 5 步：计算命中率 = 止盈1先触发次数 ÷ 触发总次数
    ↓
第 6 步：筛选命中率达到候选门槛（做多 ≥ 64%，做空 ≥ 52%）且触发次数 ≥ 8 次的候选组合
    ↓
第 7 步：换新的 5000 根 K 线，对候选组合再次验证
    ↓
第 8 步：多轮验证稳定的组合 → 上模拟盘测试
```

### 4.2 回测精度规范

#### 价格与订单类型

| 环节 | 价格来源 | 订单类型 |
|:---|:---|:---|
| 入场 | **信号 K 线的下一根 K 线 open** | 市价单 |
| 止盈触发判断 | `bar.high >= tp_price` | 限价单，以 tp_price 成交 |
| 止损触发判断 | `bar.low <= sl_price` | 限价单，以 sl_price 成交 |
| 同一根 K 线双触发 | **一律按止损处理（悲观假设）** | — |

#### 关键说明

- **用影线（bar.high / bar.low）**，不用实体（min/max(open, close)）——限价单只要价格到达就成交，影线是真实发生的价格
- 入场价取 **下一根 K 线 open**，并允许入场 K 线自身的 high/low 触发止盈或止损（open 入场后该 K 线的价格波动属于入场后的真实波动）
- 时区统一 UTC+8，和历史数据保持一致
- 超时（240 根内未触发）计为未命中（按止损处理）

### 4.3 止盈止损模拟函数（伪代码）

```python
# 做多参数（止盈窄/止损宽，随机基准 61%）
LONG_TP1_PCT  = 0.006   # 价格涨 0.6%（杠杆后 +12%）
LONG_SL_PCT   = 0.008   # 价格跌 0.8%（杠杆后 -16%）

# 做空参数（止盈宽/止损窄，随机基准 47%）
SHORT_TP1_PCT = 0.008   # 价格跌 0.8%（杠杆后 +16%）
SHORT_SL_PCT  = 0.006   # 价格涨 0.6%（杠杆后 -12%）

MAX_HOLD_BARS = 240     # 最多持仓 240 根 K 线

def simulate_trade(df, entry_bar_idx, direction) -> bool:
    entry_price = df.iloc[entry_bar_idx + 1]['open']   # 下一根开盘入场
    if direction == 'long':
        tp_price = entry_price * (1 + LONG_TP1_PCT)
        sl_price = entry_price * (1 - LONG_SL_PCT)
    else:
        tp_price = entry_price * (1 - SHORT_TP1_PCT)
        sl_price = entry_price * (1 + SHORT_SL_PCT)

    for i in range(entry_bar_idx + 1, min(entry_bar_idx + MAX_HOLD_BARS, len(df))):
        high = df.iloc[i]['high']
        low  = df.iloc[i]['low']
        if direction == 'long':
            # 同一根 K 线双触发时，按止损处理（悲观假设）
            if low  <= sl_price:  return False  # 未命中
            if high >= tp_price:  return True   # 命中
        else:
            # 同一根 K 线双触发时，按止损处理（悲观假设）
            if high >= sl_price:  return False  # 未命中
            if low  <= tp_price:  return True   # 命中

    return False  # 超时，算未命中
```

---

## 五、使用的技术指标清单

### 静态条件指标

| 指标 | 说明 |
|:---|:---|
| RSI（相对强弱指数） | 衡量涨跌动能，范围 0-100 |
| K 值（随机指标快线） | KDJ 的快速反应线，范围 0-100 |
| D 值（随机指标慢线） | KDJ 的平滑线，范围 0-100 |
| J 值（随机指标敏感线） | KDJ 的放大线，可超出 0-100 |
| MACD 柱（柱状图） | 快线 DIF 减去慢线 DEA 的差值 |
| DIF（MACD 快线） | 短期与长期均线的差 |
| 布林带位置 | 收盘价在布林带中的相对位置，0-1 |
| 成交量比率 | 当前成交量 ÷ 近期平均成交量 |
| 价格偏离 5 日均线 | 收盘价相对 5 日均线的百分比偏离 |
| 下影线比例 | 下影线长度 ÷ K 线实体长度 |
| 上影线比例 | 上影线长度 ÷ K 线实体长度 |
| 连续同向 K 线数 | 连续阳线数（正值）或连续阴线数（负值） |
| ATR 比率 | 当前 K 线波幅 ÷ 近期平均波幅 |

### 动态条件指标（第二阶段加入）

| 指标 | 说明 | 加入时机 |
|:---|:---|:---|
| KDJ 金叉 | K 值上穿 D 值 | 先找静态组合，再测试加上金叉后命中率是否提升 |
| KDJ 死叉 | K 值下穿 D 值 | 同上 |
| MACD 金叉 | DIF 上穿 DEA | 同上 |
| MACD 死叉 | DIF 下穿 DEA | 同上 |
| MACD 柱由负转正 | 前一根为负值，当前转为正值 | 同上 |
| MACD 柱由正转负 | 前一根为正值，当前转为负值 | 同上 |

---

## 六、信号条件阈值定义

### 做多信号条件

| 条件 | 宽松版 | 严格版 |
|:---|:---:|:---:|
| RSI 超卖 | < 40 | < 30 |
| K 值超卖 | < 35 | < 25 |
| J 值超卖 | < 25 | < 15 |
| 布林带位置偏低 | < 0.25 | < 0.15 |
| 成交量放量 | > 1.3 | > 1.8 |
| 价格超跌均线 | < -1.0% | < -1.5% |
| 下影线明显 | > 1.5 倍实体 | > 2.5 倍实体 |
| 连续阴线 | ≥ 2 根 | ≥ 3 根 |
| ATR 比率 | > 1.2 | > 1.8 |

### 做空信号条件

| 条件 | 宽松版 | 严格版 |
|:---|:---:|:---:|
| RSI 超买 | > 60 | > 70 |
| K 值超买 | > 65 | > 75 |
| J 值超买 | > 75 | > 85 |
| 布林带位置偏高 | > 0.75 | > 0.85 |
| 成交量放量 | > 1.3 | > 1.8 |
| 价格超涨均线 | > 1.0% | > 1.5% |
| 上影线明显 | > 1.5 倍实体 | > 2.5 倍实体 |
| 连续阳线 | ≥ 2 根 | ≥ 3 根 |
| ATR 比率 | > 1.2 | > 1.8 |

---

## 七、筛选标准

### 随机基准：做多 61%，做空 47%（含手续费，v3.1 更新）

> v3.1 起，做多与做空采用非对称止盈止损，两方向随机基准和筛选门槛均不同。  
> 做多：止盈 +0.6% / 止损 -0.8% → 含费基准 **61%**  
> 做空：止盈 -0.8% / 止损 +0.6% → 含费基准 **47%**  
>  
> 有效组合必须显著超过各自方向的含费基准，才具备正期望值。

### 做多筛选门槛（含手续费，随机基准 61%）

| 层级 | 命中率要求 | 最少触发次数 | 说明 |
|:---|:---:|:---:|:---|
| 随机基准 | 61% | — | 含手续费后期望值为零的临界点 |
| 候选组合 | **≥ 64%** | **≥ 8 次** | 超过含费基准 3 个百分点 |
| 优质组合 | **≥ 67%** | **≥ 8 次** | 较明显的预测能力 |
| 精品组合 | **≥ 71%** | **≥ 8 次** | 显著的预测能力，优先进多轮验证 |

### 做空筛选门槛（含手续费，随机基准 47%）

| 层级 | 命中率要求 | 最少触发次数 | 说明 |
|:---|:---:|:---:|:---|
| 随机基准 | 47% | — | 含手续费后期望值为零的临界点 |
| 候选组合 | **≥ 52%** | **≥ 8 次** | 超过含费基准 5 个百分点（显著幅度） |
| 优质组合 | **≥ 55%** | **≥ 8 次** | 较明显的预测能力 |
| 精品组合 | **≥ 59%** | **≥ 8 次** | 显著的预测能力，优先进多轮验证 |

> ⚠ 触发次数 8-14 次时显示"样本偏少"警告，需要更多轮验证才可信。

---

## 八、多轮验证与稳定性评分

### 稳定性指标

每个候选组合在多轮验证中会累积以下数据：

| 字段 | 说明 |
|:---|:---|
| `appear_rounds` | 出现轮次数（至少触发 8 次才算出现） |
| `avg_rate` | 历次命中率的平均值 |
| `rate_std` | 命中率的标准差（波动越小越稳定） |
| `stability_score` | 稳定性评分 = avg_rate × (1 - rate_std) × ln(appear_rounds + 1) |
| `综合评分` | 综合稳定性、命中率、样本量的加权评分 |

### 多轮验证流程

```
第 1 轮（5000 根 K 线）
    → 输出候选组合（做多命中率 ≥ 64% 或做空命中率 ≥ 52%，触发次数 ≥ 8）

第 2 轮（新的 5000 根 K 线）
    → 对所有历史候选组合重新计算命中率
    → 累加到历史记录，更新 avg_rate 和 rate_std

第 3 轮、第 4 轮...
    → 继续验证，稳定性评分不断完善

最终输出
    → 多轮验证后做多 avg_rate ≥ 64%（或做空 ≥ 52%），且 rate_std < 0.08 的稳定组合
    → 做多组合清单 + 做空组合清单
    → 上模拟盘进行实战验证
```

---

## 九、UI 实现规划

### 新增页签：历史数据回测

界面分为以下区域：

#### 区域 1：操作按钮

- 「开始分析」— 取新的 5000 根 K 线，运行完整分析（含手续费；做多门槛 64/67/71%，做空门槛 52/55/59%）
- 「换新数据再验证」— 取新 5000 根 K 线，对历史候选组合再次验证
- 「清空历史记录」— 清除所有累计结果，从零开始

#### 区域 2：进度显示

- 进度条（**1% 精度**，必须显示）
- 状态文字（如"正在计算第 3521 / 6870 个组合..."）

#### 区域 3：本轮结果表（当前这一轮分析结果）

| 排名 | 方向 | 指标组合描述 | 触发次数 | 命中次数 | 命中率 | 层级 |
|:---:|:---:|:---|:---:|:---:|:---:|:---:|
| 1 | 做多 | RSI < 30 且 K值 < 25 且 布林位置 < 0.15 | 18 | 13 | 72.2% | 精品 |
| 2 | 做空 | RSI > 70 且 连续阳线 ≥ 3 | 12 | 9 | 75.0% | 精品 |

#### 区域 4：累计结果表（所有轮次汇总）

| 排名 | 方向 | 指标组合描述 | 出现轮次 | 平均命中率 | 波动 | 稳定性评分 | 综合评分 |
|:---:|:---:|:---|:---:|:---:|:---:|:---:|:---:|
| 1 | 做多 | RSI < 30 且 K值 < 25 | 4 | 68.5% | ±3.2% | 87 | 92 |

#### 区域 5：多轮验证历史记录

- 文本区域，显示每轮的时间、K 线范围、发现组合数、精品组合数

#### 区域 6：精选组合表（智能合并）

UI 会自动对累计结果进行**智能合并**，避免推荐多个高度相似的组合。

**合并规则：**

1. **阈值合并**：同一指标族（如"布林位置"）的宽松版（<0.25）和严格版（<0.15），取宽松版（覆盖范围更大，样本更充足）
2. **触发累加**：合并后的组合，触发次数/命中次数取各分支之和，命中率重新计算
3. **轮次取最大**：出现轮次取各分支的最大值

**多样性选择：**

合并后再按以下规则选出每方向 TOP 6：

1. 按综合评分降序遍历
2. 对每个候选组合，计算其与已选组合的**指标族重叠度**（Jaccard 系数）
3. 重叠度 < 50% 的才选入，避免选出一堆"近似重复"的组合
4. 出现轮次 ≥ 5 的组合优先加入（即使略有重叠）

**展示格式：**

| 序号 | 方向 | 指标组合（合并标记） | 出现轮次 | 累计触发 | 命中次数 | 命中率 | 综合评分 |
|:---:|:---:|:---|:---:|:---:|:---:|:---:|:---:|
| 1 | 做多 | [合并3] 布林位置（宽松）& 偏离MA5 | 8 | 156 | 112 | 71.8% | 92.3 |
| 2 | 做多 | RSI & KDJ-K & 下影线 | 5 | 67 | 45 | 67.2% | 85.1 |

---

## 十、后端模块划分

| 模块 | 文件 | 职责 |
|:---|:---|:---|
| 指标计算 | `utils/indicators.py`（已有） | 计算所有技术指标 |
| 止盈止损模拟 + 组合枚举 | `core/signal_analyzer.py`（新建） | 核心计算逻辑 |
| 多轮结果持久化 | `core/signal_store.py`（新建） | 读写 `data/signal_analysis_state.json` |
| UI 页签 + 后台线程 | `ui/signal_analysis_tab.py`（新建） | 页签 UI + `SignalAnalysisWorker` |
| 主窗口注册 | `ui/main_window.py`（修改） | 添加新页签，连接数据信号 |

---

## 十一、实现优先级

| 阶段 | 内容 | 优先级 |
|:---|:---|:---:|
| 第一步 | `signal_analyzer.py`：止盈止损模拟 + 指标组合枚举 + 命中率计算 | 最高 |
| 第二步 | `signal_store.py`：多轮结果持久化与稳定性评分 | 最高 |
| 第三步 | `signal_analysis_tab.py`：UI 页签 + 后台线程 + 1% 进度条 | 高 |
| 第四步 | `main_window.py`：注册新页签，连接数据传入 | 高 |
| 第五步 | 动态条件（金叉/死叉）加成测试 | 中 |
| 第六步 | 结果导出 + 应用到模拟盘 | 中 |

---

## 十二、三层提速策略

### 背景

每方向 9 指标 × 2 阈值 = 18 个条件，C(18, 2~5) = 12,597 种，两方向合计约 **25,200 种**。朴素 Python 循环约需 **12 分钟**，通过三层提速可压缩至 **5-10 秒**。

| 方法 | 估算耗时 |
|:---|:---:|
| 朴素 Python 循环 | ~12 分钟 |
| 策略 1：预计算结果数组 | ~5-10 秒 |
| 策略 1+2+3 全开 | **~2-5 秒** |

### 策略 1：预计算 outcome 数组（最重要，约 100 倍提速）

在所有组合计算开始前，对整个 5000 根 K 线做**一次性**扫描，得到：

```python
outcome_long[i]   # bool: 在 bar i 触发信号，下一根开盘做多，是否命中（双触发按止损处理）
outcome_short[i]  # bool: 同上，做空方向（双触发按止损处理）
```

此后评估任何组合，直接查表，无需重复扫描 240 根 K 线：

```python
trigger_mask = cond_A & cond_B & cond_C      # NumPy 位运算，微秒级
indices      = np.nonzero(trigger_mask)[0]
hit_rate     = outcome_long[indices].mean()  # 直接查预计算结果
```

预计算的时间复杂度 O(5000 × 240) 只执行一次，摊销到 25,200 个组合后每组合近乎零成本。

### 策略 2：NumPy 向量化 AND（约 50 倍 vs Python 循环）

18 个条件各预计算为 `shape=(5000,)` 的 bool 数组，组合触发检测变为纯向量运算，单次 < 100 微秒。相比 Python 循环逐根判断，速度提升约 50 倍。

### 策略 3：单条件预剪枝（约 5-10 倍进一步压缩）

先单独测每个条件的命中率，丢弃命中率 < **50%** 的条件（仅淘汰“单独明显劣于随机”的条件，保留可能用于过滤噪声的条件）：

```python
valid_conds = [c for c in all_conds if single_hit_rate(c) >= 0.50]
# 18 个 → 预计保留 8-12 个
# C(10, 2-5) ≈ 627 种每方向，合计约 1,254 种
```

候选空间从 25,200 种缩减至约 1,254 种，组合枚举耗时再压缩 5-10 倍。  
注意：此剪枝是工程折中，仍可能漏掉少量“单条件表现一般但组合后显著提升”的组合，需接受该风险。

### 数据流架构

```
取 5000 根K线
    ↓
calculate_all_indicators()
    ↓
    ├── 预计算 outcome_long/outcome_short（一次性扫描 O(5000×240)）
    └── 预计算 18个条件 bool数组（shape=(5000,)）
    ↓
单条件预剪枝（保留命中率 ≥ 50% 的条件）
    ↓
枚举 2-5 条件组合（约 1,254 种）
    ↓
向量化 AND + np.nonzero（获取触发索引）
    ↓
触发次数 ≥ 8？
    ├── 否 → 跳过
    └── 是 → 查 outcome 数组，得命中率
                ↓
            含手续费调整（+0.06% 成本）
                ↓
            命中率分级（做多：64/67/71%；做空：52/55/59%）
                ↓
            写入 SignalStore（JSON 持久化）
                ↓
            发出 progress 信号（1% 粒度）→ UI 更新进度条+结果表
```
